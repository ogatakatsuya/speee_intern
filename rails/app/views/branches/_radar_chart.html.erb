<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<canvas id="review-radar-chart"></canvas>

<script>
var ctx = document.getElementById('review-radar-chart');

// FIXME: コントローラー側で点数を計算させてlocals: {}に入れる
// ↓は適当
const average_correspond_satisfaction = "<%= average_responsiveness_satisfaction %>"
const normalized_sales_value = "<%= normalized_sales_satisfaction %>"
const normalized_sale_data_value = "<%= normalized_sales_speed %>"

var myChart = new Chart(ctx, {
    type: 'radar',
    data: {
        labels: ['対応満足度', '売却価格', '売却スピード'],
        datasets: [{
            data: [average_correspond_satisfaction, normalized_sales_value, normalized_sale_data_value],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
            ],
            backgroundColor: 'rgba(255, 99, 132, 0.2)', // 背景色
            borderColor: 'rgba(255, 99, 132, 1)', // ボーダー色
            borderWidth: 1
        }],
    },
    options: {
        plugins: {
            legend: {
                display: false, // 凡例を非表示にする
            }
        },
        scales: {
            r: {
                pointLabels: {
                    font: {
                        size: 13
                    }
                },
                angleLines: {
                    display: true // 角度線の表示
                },
                min: 0, // 最小値
                max: 5, // 最大値
                suggestedMin: 0,
                suggestedMax: 5,
                ticks: {
                    stepSize: 1,
                }
            },
        }
    }
});
</script>
